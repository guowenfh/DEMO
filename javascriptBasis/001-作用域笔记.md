## 作用域与作用域链

> 无论什么语言中，作用域都是一个十分重要的概念，在JavaScript中也不例外，作用域定义了变量或者函数有权访问的范围，决定了它们各自的行为。要理解JavaScript中的作用域首先就要知道：在`let`出现之前，JS中变量的作用域只有两种：全局作用域和局部作用域。
> 


### 全局作用域

全局作用域是最外围的一个执行环境，可以在代码的任何地方访问到。在浏览器中，我们的全局作用域就是`window`。因此在浏览器中，所有的全局变量和函数都是作为`window`对象的属性和方法创建的。

下面就来看看全局作用域的创建方式：

1. 全局变量与全局函数

```js
var name = "小红";
function doSomething(){
    var anotherName = "小黑";
    function showName(){
        console.info(name)
        console.info(anotherName)
    }
    showName();
}

console.info(name);//小红
console.info(anotherName);//【脚本出错】
doSomething();//小红---小黑
showName();//【脚本出错】
```
通过代码可以很清楚的看出来，我在前面所说的 **作用域定义了变量或者函数有权访问的范围** ，在这里我们定义了一个全局的变量`name`与全局函数`doSomething()`，他可以在任何地方被直接访问。但是我们又在函数内部创建了变量`anotherName`与函数`showName()`，通过代码中的调用情况可以发现，我们在外部调用它时提示【脚本出错】，因为他们处于局部作用域内（稍后讲），而 **外部环境不能访问内部环境的任何变量与函数**。这就涉及到了作用域的概念(稍后讲)

2. 未声明直接定义的变量

```js
function showName() {
    var fullName = "小红";
    anotherName = "小黑";
    console.info(fullName)
}
showName();//小红
console.info(anotherName);//小黑
console.info(fullName);//【脚本出错】
```
在这样的情况下，变量`anotherName`拥有全局作用域，而`fullName`在函数外部无法访问到。（注：在高程中明确说明，不声明而直接初始化变量是错误做法，应该避免这样的情况`严格模式下，初始化未声明的变量将报错`）

3. 所有window对象上的属性都具有全局作用

这个实际上在上面已经提到了：**所有的全局变量和函数都是作为`window`对象的属性和方法创建的。**，自然`window`对象它本身所具有的属性和方法，同样是处于全局作用域，例如：`window.location`，`window.name`等等。

### 局部作用域


其实在上面的代码中，为了展示全局作用域的效果，我们就已经创造了局部作用域。局部作用域和全局作用域正好相反，局部作用域一般只在固定的代码片段内可访问到，最常见的就是函数内部，所以在很多地方就会有人把它称为函数作用域。（记住`let`之前无块级作用域）。我们再来看一下第一段代码：

```js
var name = "小红";
function doSomething(){
    var anotherName = "小黑";
    function showName(){
        console.info(name)
        console.info(anotherName)
    }
    showName();
}
console.info(anotherName);//【脚本出错】
showName();//【脚本出错】
```
在这段代码中变量 `anotherName`,与函数 `showName()`，都拥有局部作用域。

### 作用域链
